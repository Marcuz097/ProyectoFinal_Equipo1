{% extends "base.html" %}

{% block titulo %} Confirmar Eliminación de Paciente {% endblock %}

{% block contenido %}
<style>
    /* ------------------------------------------------------------------
       PALETA DE COLORES Y ESTILOS CONSISTENTES (DELGADO Y COMPACTO)
       ------------------------------------------------------------------ */
    body {
        background-color: #F4F7F9; 
    }

    /* Azul Marino Oscuro */
    .bg-deep-navy {
        background-color: #002850 !important; 
    }
    .text-deep-navy {
        color: #002850 !important;
    }
    
    /* Rojo Oscuro Elegante para la acción de eliminar */
    .red-deep-elegant {
        background-color: #A31526;
        border-color: #A31526;
        transition: background-color 0.3s ease;
    }
    .red-deep-elegant:hover {
        background-color: #8c1322;
        border-color: #8c1322;
    }
    
    /* Botón Cancelar (Outline Azul Marino) */
    .btn-outline-marine {
        color: #002850;
        border-color: #002850;
    }
    .btn-outline-marine:hover {
        background-color: #002850;
        color: #fff;
    }
    
    /* ------------------------------------------------------------------
       ESTILOS PARA EL MODAL CENTRADO (DELGADO, COMPACTO Y CERCA DEL TOP)
       ------------------------------------------------------------------ */
    .dialog-container {
        /* CONTROL DE ANCHO: Delgado */
        max-width: 380px; 
        /* CONTROL DE ALTURA: Cerca del navbar */
        margin-top: 1.5rem; 
    }
    .card-delete-elegant {
        border-radius: 1.5rem !important;
        border: 1px solid rgba(0, 0, 0, 0.05);
        overflow: hidden;
    }

    /* Encabezado con línea de acento rojo oscuro */
    .card-header-subtle-danger {
        border-bottom: 4px solid #A31526;
        background-color: #f9f9f9;
        color: #002850;
        font-weight: 600;
        padding: 1.25rem 1.5rem; /* Padding reducido para altura compacta */
    }
    
    /* Clase para asegurar que el icono del encabezado usa el color de acento */
    .text-red-deep-elegant {
        color: #A31526 !important;
    }
    
    /* Estilo del nombre */
    .nombre-destacado-paciente {
        font-size: 1.75rem;
        font-weight: 800;
        color: #002850;
        padding: 0.5rem 0;
        border-bottom: 1px solid #EEE;
        display: block;
    }
    
    /* Cuerpo de la tarjeta para controlar el padding vertical general */
    .card-body-delete {
        padding: 1.5rem; /* Padding compacto */
    }

    /* Estilo para los botones dentro de la tarjeta de eliminación (Ancho forzado) */
    .btn-delete-full-width {
        width: 100%; 
        padding: 0.8rem 1.5rem; 
        font-size: 1.05rem; 
    }
</style>

<!-- ELIMINAMOS PY-5 DEL CONTENEDOR PRINCIPAL -->
<div class="container d-flex justify-content-center align-items-center">
    <div class="col-12 dialog-container">
        
        <div class="card shadow-lg card-delete-elegant">
            
            <div class="card-header card-header-subtle-danger d-flex align-items-center">
                <i class="bi bi-x-octagon-fill fs-4 me-3 text-red-deep-elegant"></i>
                <!-- Texto en Negrita -->
                <h5 class="mb-0 fw-bold">Confirmar Eliminación</h5>
            </div>
            
            <div class="card-body card-body-delete text-center">
                
                <p class="lead text-muted mb-2 fw-bolder">
                    Advertencia de Seguridad:
                </p>
                
                <h2 class="text-deep-navy mb-4 fw-bolder">
                    <!-- Ícono de Paciente -->
                    <i class="bi bi-person-fill me-2"></i> {{ object.usuario.first_name }} {{ object.usuario.last_name }}
                </h2>
                
                <p class="mb-4 text-secondary">
                    <span class="text-danger fw-semibold">Esta acción es irreversible.</span> ¿Deseas eliminar permanentemente a este paciente?
                </p>

                <form method="post" class="d-grid gap-3">
                    {% csrf_token %}
                    <!-- Botón Eliminar: Compacto y Rojo -->
                    <button type="submit" class="btn red-deep-elegant text-white rounded-pill fw-bold btn-delete-full-width">
                        <i class="bi bi-trash-fill me-2"></i> Sí, Eliminar Permanentemente
                    </button>
                    
                    <!-- Botón Cancelar: Compacto y Outline Azul -->
                    <a href="{% url 'gestion_citas:paciente-list' %}" class="btn btn-outline-marine rounded-pill btn-delete-full-width">
                        <i class="bi bi-arrow-left me-2"></i> Regresar y Cancelar
                    </a>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}